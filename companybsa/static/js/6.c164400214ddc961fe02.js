webpackJsonp([6],{"1FWr":function(t,e,i){"use strict";var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scrollContainer",staticClass:"news-list-page",on:{scroll:function(e){return t.handleScroll("scrollContainer")}}},[i("top-menu",{attrs:{current:"newslist"+(t.query.classid?t.query.classid:0)}}),t._v(" "),i("div",{staticClass:"main-area"},[i("class-menu"),t._v(" "),i("div",{staticClass:"middle-col"},[i("div",{staticClass:"m-row2 list-outer"},[i("div",{staticClass:"list-area",attrs:{template:".template3"}},t._l(t.listData,function(e,n){return i("div",{staticClass:"item",on:{click:function(i){return t.toDetail(e)}}},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:e.photo}})]),t._v(" "),i("div",{staticClass:"con"},[i("h3",[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"binfo"},[i("span",[t._v(t._s(t._f("dateformat")(e.dateline)))])])])])])}),0),t._v(" "),t.isLoading?i("div",{staticClass:"loading-area flex_center",staticStyle:{width:"100%",height:"50px",color:"#ccc"}},[t._v("正加载中")]):t._e(),t._v(" "),t.isDone?i("div",{staticClass:"loading-end-area flex_center",staticStyle:{width:"100%",height:"50px",color:"#ccc"}},[t._v("没有更多数据啦")]):t._e()])])],1)],1)},staticRenderFns:[]};e.a=n},"5/Zx":function(t,e,i){var n=i("gRCn");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("08f3fb46",n,!0,{})},VxkV:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i("/wNa")),s=l(i("viPQ")),a=l(i("fbYF")),r=l(i("+p4d"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{TopMenu:a.default,ClassMenu:r.default},data:function(){return{query:{},listData:[],pagestart:0,limit:15,isLoading:!1,isDone:!1,hostName:""}},filters:{dateformat:function(t){return new s.default(1e3*t).dateFormat("yyyy-MM-dd hh:mm")}},watch:{$route:{handler:function(t,e){this.refresh()}}},methods:{getview:function(t,e){this.name=this.$route.query.name},toDetail:function(t){this.$router.push({path:"/news",query:{id:t.id}})},getList:function(){var t=this;this.$http.get(n.default.GxkApi+"/api/list_n/factorynews",{params:{module:"factorynews",prefixdomain:this.hostName,classid:this.query.classid,pagestart:this.pagestart,limit:this.limit}}).then(function(e){var i=e.data;if(t.isLoading=!1,i.flag){var n=i.data;t.listData=t.listData.concat(n),n.length<t.limit&&t.listData.length>t.limit/2&&(t.isDone=!0)}})},handleScroll:function(t){var e=this,i=this.$refs[t][0]?this.$refs[t][0]:this.$refs[t];this.$util.scrollEvent({element:i,callback:function(){e.listData.length===(e.pagestart+1)*e.limit&&(e.pagestart++,e.isLoading=!0,e.getList())}})},refresh:function(){this.hostName=this.$util.getHostName(),this.query=this.$route.query,this.listData=[],this.pagestart=0,this.limit=15,this.isLoading=!1,this.isDone=!1,this.getList()}},created:function(){},activated:function(){this.refresh()}}},Zldy:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("VxkV");i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);var a=i("x0ka"),r=i.n(a),l=i("1FWr");var o=function(t){i("5/Zx")},c=i("VU/8")(r.a,l.a,!1,o,null,null);e.default=c.exports},gRCn:function(t,e,i){(t.exports=i("FZ+f")(!0)).push([t.i,"\n.news-list-page {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n}\n.news-list-page .middle-col {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n}\n.news-list-page .m-row2 .item {\n  border-top: 1px solid #e6e6e6;\n}\n.news-list-page .m-row2 .item:first-child {\n  border-top: none;\n}\n.news-list-page .m-row2 .item-inner {\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 20px 0;\n  color: #333;\n}\n.news-list-page .m-row2 .item-inner:hover {\n  color: #2291f7;\n}\n.news-list-page .m-row2 .list-area .pic {\n  margin-right: 20px;\n  width: 230px;\n  height: 130px;\n  overflow: hidden;\n}\n.news-list-page .m-row2 .list-area img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.news-list-page .m-row2 .list-area .con {\n  height: 130px;\n}\n.news-list-page .m-row2 .list-area .con h3 {\n  line-height: 32px;\n  min-height: 75px;\n}\n.news-list-page .m-row2 .list-area .con .binfo {\n  position: relative;\n  color: #666;\n  font-size: 12px;\n  height: 22px;\n}\n","",{version:3,sources:["/Users/gyp/博卡项目/xczx/src/pages/Newslist.vue"],names:[],mappings:";AACA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;CAClB;AACD;EACE,oBAAoB;EACpB,gBAAgB;UACR,QAAQ;CACjB;AACD;EACE,8BAA8B;CAC/B;AACD;EACE,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,YAAY;CACb;AACD;EACE,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,cAAc;EACd,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,cAAc;CACf;AACD;EACE,kBAAkB;EAClB,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,gBAAgB;EAChB,aAAa;CACd",file:"Newslist.vue",sourcesContent:["\n.news-list-page {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n}\n.news-list-page .middle-col {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n}\n.news-list-page .m-row2 .item {\n  border-top: 1px solid #e6e6e6;\n}\n.news-list-page .m-row2 .item:first-child {\n  border-top: none;\n}\n.news-list-page .m-row2 .item-inner {\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 20px 0;\n  color: #333;\n}\n.news-list-page .m-row2 .item-inner:hover {\n  color: #2291f7;\n}\n.news-list-page .m-row2 .list-area .pic {\n  margin-right: 20px;\n  width: 230px;\n  height: 130px;\n  overflow: hidden;\n}\n.news-list-page .m-row2 .list-area img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.news-list-page .m-row2 .list-area .con {\n  height: 130px;\n}\n.news-list-page .m-row2 .list-area .con h3 {\n  line-height: 32px;\n  min-height: 75px;\n}\n.news-list-page .m-row2 .list-area .con .binfo {\n  position: relative;\n  color: #666;\n  font-size: 12px;\n  height: 22px;\n}\n"],sourceRoot:""}])},x0ka:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i("/wNa")),s=l(i("viPQ")),a=l(i("fbYF")),r=l(i("+p4d"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{TopMenu:a.default,ClassMenu:r.default},data:function(){return{query:{},listData:[],pagestart:0,limit:15,isLoading:!1,isDone:!1,hostName:""}},filters:{dateformat:function(t){return new s.default(1e3*t).dateFormat("yyyy-MM-dd hh:mm")}},watch:{$route:{handler:function(t,e){this.refresh()}}},methods:{getview:function(t,e){this.name=this.$route.query.name},toDetail:function(t){this.$router.push({path:"/news",query:{id:t.id}})},getList:function(){var t=this;this.$http.get(n.default.GxkApi+"/api/list_n/factorynews",{params:{module:"factorynews",prefixdomain:this.hostName,classid:this.query.classid,pagestart:this.pagestart,limit:this.limit}}).then(function(e){var i=e.data;if(t.isLoading=!1,i.flag){var n=i.data;t.listData=t.listData.concat(n),n.length<t.limit&&t.listData.length>t.limit/2&&(t.isDone=!0)}})},handleScroll:function(t){var e=this,i=this.$refs[t][0]?this.$refs[t][0]:this.$refs[t];this.$util.scrollEvent({element:i,callback:function(){e.listData.length===(e.pagestart+1)*e.limit&&(e.pagestart++,e.isLoading=!0,e.getList())}})},refresh:function(){this.hostName=this.$util.getHostName(),this.query=this.$route.query,this.listData=[],this.pagestart=0,this.limit=15,this.isLoading=!1,this.isDone=!1,this.getList()}},created:function(){},activated:function(){this.refresh()}}}});
//# sourceMappingURL=6.c164400214ddc961fe02.js.map